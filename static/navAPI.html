<div class="modal-body" id="modalBody">
    <form>
        <div class="form-group">
            <label for="tToken">User Name</label>
            <input type="txt" class="form-control" id="tToken" placeholder="{}" value="" >
        </div>
        <div class="form-group">
            <label for="tVehicle">Vehicle</label>
            <select onchange="selectChange(this);" class="form-control" id="tVehicle">
                <option id="vehicle0" value="0">Frist</option>
                <option id="vehicle1" value="1">Second</option>
                <option id="vehicle2" value="2">Third</option>
            </select>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    <button type="button" class="btn btn-info" id="saveAPI" > Save </button>
    <button type="button" class="btn btn-primary" id="start"> Start Query </button>
</div>

<script>
    $( document ).ready(function(){
        manageFieldById('tToken');
        setSelection('tVehicle')
    });
    $('#saveAPI').click(function() {
        var tToken = $('#tToken').val();
        if (tToken.trim() !== "" ) {
            $.post("/badger/tToken", tToken, function() {
                manageFieldById('tToken');
            });
        }
    });
    $('#start').click(function() {
        $.post("/start/query")
    });
    function setSelection(div) {
        $.get('/badger/'+div, function(value) {
            $('#'+div).val(value)
        })
    }
    function selectChange(select) {
        $.post('/badger/'+select.id, select.value);
    }
</script>